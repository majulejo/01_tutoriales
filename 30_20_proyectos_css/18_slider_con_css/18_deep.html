<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>deep Slider con Arrastre Funcional</title>

    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background-color: #f0f0f0;
      }
      
      .slider-container {
        width: 700px;
        margin: 50px auto;
      }

      .slider-container .slider-viewport {
        width: 700px;
        border-radius: 10px;
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        cursor: grab;
        scrollbar-width: none;
        -ms-overflow-style: none;
      }

      .slider-container .slider-viewport::-webkit-scrollbar {
        display: none;
      }

      .slider-container .slider-viewport.grabbing {
        cursor: grabbing;
        scroll-behavior: auto;
      }

      .slider-container .slider-viewport .slide {
        min-width: 700px;
        height: 400px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 48px;
        font-weight: bold;
        color: white;
        scroll-snap-align: start;
        flex-shrink: 0;
      }

      #slide-1 { background-color: #ff5733; }
      #slide-2 { background-color: #33ff57; }
      #slide-3 { background-color: #3357ff; }
      #slide-4 { background-color: #ff33a1; }
      #slide-5 { background-color: #a133ff; }
      #slide-6 { background-color: #33fff6; }

      .slider-container .links {
        padding: 20px 0;
        display: flex;
        justify-content: center;
        gap: 10px;
      }

      .slider-container .links a {
        width: 40px;
        height: 40px;
        background-color: #2e2e2e;
        color: #fff;
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: bold;
        transition: background-color 0.3s;
      }

      .slider-container .links a:hover,
      .slider-container .links a.active {
        background-color: #226bbe;
      }

      .slider-hint {
        text-align: center;
        color: #666;
        font-size: 14px;
        margin-top: 10px;
      }
    </style>
  </head>

  <body>
    <div class="slider-container">
      <div class="slider-viewport" id="sliderViewport">
        <div class="slide" id="slide-1">1</div>
        <div class="slide" id="slide-2">2</div>
        <div class="slide" id="slide-3">3</div>
        <div class="slide" id="slide-4">4</div>
        <div class="slide" id="slide-5">5</div>
        <div class="slide" id="slide-6">6</div>
      </div>

      <div class="links">
        <a href="#slide-1" class="nav-link">1</a>
        <a href="#slide-2" class="nav-link">2</a>
        <a href="#slide-3" class="nav-link">3</a>
        <a href="#slide-4" class="nav-link">4</a>
        <a href="#slide-5" class="nav-link">5</a>
        <a href="#slide-6" class="nav-link">6</a>
      </div>
      
      <div class="slider-hint">← Haz click y arrastra o usa los botones →</div>
    </div>

    <script>
      // Seleccionar elementos
      const sliderViewport = document.getElementById('sliderViewport');
      const navLinks = document.querySelectorAll('.nav-link');
      
      // Variables para el arrastre
      let isDragging = false;
      let startX;
      let scrollLeft;

      // ===== FUNCIONALIDAD DE ARRASTRE =====
      
      // Cuando presionas el mouse
      sliderViewport.addEventListener('mousedown', (e) => {
        isDragging = true;
        sliderViewport.classList.add('grabbing');
        startX = e.pageX - sliderViewport.offsetLeft;
        scrollLeft = sliderViewport.scrollLeft;
      });

      // Cuando sales del slider
      sliderViewport.addEventListener('mouseleave', () => {
        isDragging = false;
        sliderViewport.classList.remove('grabbing');
      });

      // Cuando sueltas el mouse
      sliderViewport.addEventListener('mouseup', () => {
        isDragging = false;
        sliderViewport.classList.remove('grabbing');
        
        // Snap al slide más cercano después de soltar
        setTimeout(() => {
          const slideWidth = sliderViewport.clientWidth;
          const currentScroll = sliderViewport.scrollLeft;
          const closestSlide = Math.round(currentScroll / slideWidth);
          sliderViewport.scrollTo({
            left: closestSlide * slideWidth,
            behavior: 'smooth'
          });
        }, 50);
      });

      // Cuando mueves el mouse mientras arrastras
      sliderViewport.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        e.preventDefault();
        
        const x = e.pageX - sliderViewport.offsetLeft;
        const walk = (x - startX) * 2; // Velocidad del arrastre
        sliderViewport.scrollLeft = scrollLeft - walk;
      });

      // ===== NAVEGACIÓN CON BOTONES =====
      
      navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const targetId = link.getAttribute('href');
          const targetSlide = document.querySelector(targetId);
          
          if (targetSlide) {
            targetSlide.scrollIntoView({
              behavior: 'smooth',
              block: 'nearest',
              inline: 'start'
            });
          }
        });
      });

      // ===== ACTUALIZAR BOTONES ACTIVOS =====
      
      sliderViewport.addEventListener('scroll', () => {
        const slideWidth = sliderViewport.clientWidth;
        const currentSlide = Math.round(sliderViewport.scrollLeft / slideWidth);
        
        navLinks.forEach((link, index) => {
          if (index === currentSlide) {
            link.classList.add('active');
          } else {
            link.classList.remove('active');
          }
        });
      });

      // ===== SCROLL CON RUEDA DEL MOUSE =====
      
      sliderViewport.addEventListener('wheel', (e) => {
        e.preventDefault();
        sliderViewport.scrollLeft += e.deltaY * 2;
      });

      // Inicializar el primer botón como activo
      navLinks[0].classList.add('active');
    </script>
  </body>
</html>